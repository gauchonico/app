{% extends 'base.html' %}

{% load static %}

{% block title %}Table Plugins{% endblock %}

{% block css %}
    <link href="{% static 'plugins/datatables.net-bs5/css/dataTables.bootstrap5.min.css' %}" rel="stylesheet" />
    <link href="{% static 'plugins/datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css' %}" rel="stylesheet" />
    <link href="{% static 'plugins/datatables.net-responsive-bs5/css/responsive.bootstrap5.min.css' %}" rel="stylesheet" />
    <link href="{% static 'plugins/bootstrap-table/dist/bootstrap-table.min.css' %}" rel="stylesheet" />
{% endblock %}

{% block js %}
    <script src="{% static 'plugins/@highlightjs/cdn-assets/highlight.min.js' %}"></script>
    <script src="{% static 'js/demo/highlightjs.demo.js' %}"></script>
    <script src="{% static 'plugins/datatables.net/js/dataTables.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-bs5/js/dataTables.bootstrap5.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-buttons/js/dataTables.buttons.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-buttons/js/buttons.colVis.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-buttons/js/buttons.flash.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-buttons/js/buttons.html5.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-buttons/js/buttons.print.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-buttons-bs5/js/buttons.bootstrap5.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-responsive/js/dataTables.responsive.min.js' %}"></script>
    <script src="{% static 'plugins/datatables.net-responsive-bs5/js/responsive.bootstrap5.min.js' %}"></script>
    <script src="{% static 'plugins/bootstrap-table/dist/bootstrap-table.min.js' %}"></script>
    <script src="{% static 'js/demo/table-plugins.demo.js' %}"></script>
    <script src="{% static 'js/demo/sidebar-scrollspy.demo.js' %}"></script>
{% endblock %}
{% block content %}
    
        <!-- BEGIN container -->
        <div class="container">
            <!-- BEGIN row -->
            <div class="row justify-content-center">
                <!-- BEGIN col-10 -->
                <div class="col-xl-12">
                    <!-- BEGIN row -->
                    <div class="row">
                        <!-- BEGIN col-9 -->
                        <div class="col-xl-9">
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#">PRODUCTS</a></li>
                                <li class="breadcrumb-item active">ROLL OUT NEW PRODUCT</li>
                            </ul>
                            
                            <h1 class="page-header">
                                New Product <small>page header description goes here...</small>
                            </h1>
                            
                            <hr class="mb-4">
                            
                            <!-- BEGIN #datatable -->
                            <h1>Add Raw Materials to {{ product.product_name }}</h1>
                        <form method="post">
                            {% csrf_token %}
                            {{ formset.management_form }}
                            <div class="form-group row">
                                <div class="col-sm-10">
                                    {% for form in formset %}
                                        <div class="allform">
                                            <div class="form-group row">
                                                <label for="{{ form.prefix }}-raw_material" class="col-sm-2 col-form-label">Raw Material:</label>
                                                <div class="col-sm-6">
                                                    {{ form.raw_material }}
                                                    <span class="text-danger">{{ form.raw_material.errors }}</span>  </div>
                                            </div>
                                            <div class="form-group row">
                                                <label for="{{ form.prefix }}-quantity_per_unit_product_volume" class="col-sm-2 col-form-label">Quantity per Unit Volume:</label>
                                                <div class="col-sm-6">
                                                    {{ form.quantity_per_unit_product_volume }}
                                                    <span class="text-danger">{{ form.quantity_per_unit_product_volume.errors }}</span>  </div>
                                            </div>
                                            {% if formset.can_delete %}
                                                <div class="form-group row">
                                                    <div class="col-sm-2"></div>
                                                    <div class="col-sm-6">
                                                        <a href="#" class="btn btn-danger">Delete Ingredient</a>
                                                    </div>
                                                </div>
                                        </div>
                                        {% endif %}
                                        <hr>
                                    {% endfor %}
                                </div>
                                <div class="col-sm-2">
                                    <button type="button" id="add_ingredient_form" class="btn btn-primary">Add Ingredient</button>
                                    
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary">Add Ingredients</button>
                        </form>
                        
                        
                        
                                
                            <!-- END #datatable -->
                        </div>
                        <!-- END col-9-->
                        <!-- BEGIN col-3 -->
                        <div class="col-xl-3">
                            <!-- BEGIN #sidebar-bootstrap -->
                            <nav id="sidebar-bootstrap" class="navbar navbar-sticky d-none d-xl-block">
                                <nav class="nav">
                                    <a class="nav-link active" href="{% url 'createProduct' %}">Roll Out New Product</a>
                                    <a class="nav-link" href="#datatable" data-toggle="scroll-to">Product List</a>
                                </nav>
                            </nav>
                            <!-- END #sidebar-bootstrap -->
                        </div>
                        <!-- END col-3 -->
                    </div>
                    <!-- END row -->
                </div>
                <!-- END col-10 -->
            </div>
            <!-- END row -->
        </div>
        <!-- END container -->
  
{% endblock %}
<script>
    const addform = document.getElementById('add_ingredient_form');
    const all_form = document.getElementById('allform');

    addform.addEventListener('click', function() {
        const newform = all_form.cloneNode(true);

        all_form.getElementByTagName('div')[0].appendChild(newform);

    })
</script>