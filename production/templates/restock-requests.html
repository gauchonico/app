{% extends 'base.html' %}

{% load static %}

{% block title %}Scrum Board{% endblock %}

{% block css %}
	<link href="{% static 'plugins/tag-it/css/jquery.tagit.css' %}" rel="stylesheet" />
	<link href="{% static 'plugins/datatables.net-bs5/css/dataTables.bootstrap5.min.css' %}" rel="stylesheet">
	<link href="{% static 'plugins/datatables.net-responsive-bs5/css/responsive.bootstrap5.min.css' %}" rel="stylesheet">
	<link href="{% static 'plugins/datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css' %}" rel="stylesheet">
{% endblock %}

{% block js %}
	<script src="{% static 'plugins/jquery-migrate/dist/jquery-migrate.min.js' %}"></script>
	<script src="{% static 'plugins/tag-it/js/tag-it.min.js' %}"></script>
	<script src="{% static 'js/demo/page-scrum-board.demo.js' %}"></script>
	<script src="{% static 'plugins/datatables.net/js/dataTables.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-bs5/js/dataTables.bootstrap5.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/dataTables.buttons.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/buttons.colVis.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/buttons.flash.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/buttons.html5.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons/js/buttons.print.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-buttons-bs5/js/buttons.bootstrap5.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-responsive/js/dataTables.responsive.min.js' %}"></script>
	<script src="{% static 'plugins/datatables.net-responsive-bs5/js/responsive.bootstrap5.min.js' %}"></script>
{% endblock %}

{% block content %}
	<div class="d-flex align-items-center mb-md-3 mb-2">
		<div class="flex-fill">
			<ul class="breadcrumb">
				<li class="breadcrumb-item"><a href="#">RESTOCK REQUESTS</a></li>
				<li class="breadcrumb-item active">RESTOCK STORES</li>
			</ul>

			<h1 class="page-header mb-0">
				Re-stock Dashboard
			</h1>
		</div>
		<div class="ms-auto">
			<a href="{% url 'createRestockRequest' %}" class="btn btn-outline-theme"><i class="fa fa-plus-circle me-1"></i> Restock Order</a>
		</div>
	</div>

	<div class="mb-md-4 mb-3 d-md-flex">
		<div class="dropdown-toggle">
			<a href="#" data-bs-toggle="dropdown" class="text-inverse text-opacity-75 text-decoration-none"><i class="far fa-folder fa-fw fa-lg text-theme me-1"></i> project/hud</a>
			<div class="dropdown-menu">
				<a href="#" class="dropdown-item"><i class="far fa-folder fa-fw fa-lg text-theme me-1"></i> project/mobile-app-dev</a>
				<a href="#" class="dropdown-item"><i class="far fa-folder fa-fw fa-lg text-theme me-1"></i> project/bootstrap-5</a>
				<a href="#" class="dropdown-item"><i class="far fa-folder fa-fw fa-lg text-theme me-1"></i> project/mvc-version</a>
				<a href="#" class="dropdown-item"><i class="far fa-folder fa-fw fa-lg text-theme me-1"></i> project/ruby-version</a>
			</div>
		</div>
		<div class="ms-md-4 mt-md-0 mt-2"><i class="fa fa-code-branch fa-fw fa-lg me-1 text-theme"></i> 1,392 pull request</div>
		<div class="ms-md-4 mt-md-0 mt-2"><i class="fa fa-users-cog fa-fw fa-lg me-1 text-theme"></i> 52 participant</div>
		<div class="ms-md-4 mt-md-0 mt-2"><i class="far fa-clock fa-fw fa-lg me-1 text-theme"></i> 14 day(s)</div>
	</div>

	<!-- BEGIN row -->
	
	<!-- END row -->
	<div class="row">
		<!-- BEGIN col-6 -->
		<div class="col-xl-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small mb-3">
						<span class="flex-grow-1">PENDING REQUESTS</span>
						<a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none"><i class="bi bi-fullscreen"></i></a>
					</div>
					<!-- END title -->
					<!-- BEGIN table -->
					<div class="table-responsive">
						<table class="table table-striped table-borderless mb-2px small text-nowrap">
							<tbody>
								<table class="table table-striped table-borderless mb-2px small text-nowrap">
									{% for request in restock_requests %}
										{% if request.status == 'pending' %}
									<tbody>
										<tr>
											<td>
												<span class="d-flex align-items-center">
													<i class="bi bi-circle-fill fs-6px text-warning me-2"></i>
													{{ request.quantity }} Units of {{ request.product.product_name }}
												</span>
											</td>
											<td><small>Request by: {{ request.store.name }}</small></td>
											<td>
												<span class="badge d-block bg-warning text-white rounded-0 pt-5px w-70px" style="min-height: 18px">PENDING APPROVAL</span>
											</td>
											<td><a href="#" class="text-decoration-none text-inverse"><i class="bi bi-search"></i></a></td>
										</tr>
										{% endif %}
									{% endfor %}
									</tbody>
								</table>
								
							</tbody>
						</table>
					</div>
					<!-- END table -->
				</div>
				<!-- END card-body -->
				
				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-6 -->
		<!-- BEGIN col-6 -->
		<div class="col-xl-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small mb-3">
						<span class="flex-grow-1">APPROVED REQUESTS</span>
						<a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none"><i class="bi bi-fullscreen"></i></a>
					</div>
					<!-- END title -->
					<!-- BEGIN table -->
					<div class="table-responsive">
						<table class="table table-striped table-borderless mb-2px small text-nowrap">
							<tbody>
								<table class="table table-striped table-borderless mb-2px small text-nowrap">
									{% for request in restock_requests %}
										{% if request.status == 'approved' %}
									<tbody>
										<tr>
											<td>
												<span class="d-flex align-items-center">
													<i class="bi bi-circle-fill fs-6px text-theme me-2"></i>
													{{ request.quantity }} Units of {{ request.product.product_name }}
												</span>
											</td>
											<td><small>Request by: {{ request.store.name }}</small></td>
											<td>
												<span class="badge d-block bg-theme text-dark rounded-0 pt-5px w-70px" style="min-height: 18px">APPROVED</span>
											</td>
											<td><a href="{% url 'editRestockRequests' request.pk %}" class="text-decoration-none text-inverse"><i class="bi bi-pen-fill text-theme">DELIVER</i></a></td>
											
										</tr>
										{% endif %}
									{% endfor %}
									</tbody>
								</table>
								
							</tbody>
						</table>
					</div>
					<!-- END table -->
				</div>
				<!-- END card-body -->
				
				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-6 -->
		<!-- BEGIN col-6 -->
		<div class="col-xl-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small mb-3">
						<span class="flex-grow-1">REJECTED REQUESTS</span>
						<a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none"><i class="bi bi-fullscreen"></i></a>
					</div>
					<!-- END title -->
					<!-- BEGIN table -->
					<div class="table-responsive">
						<table class="table table-striped table-borderless mb-2px small text-nowrap">
							{% for request in restock_requests %}
                        		{% if request.status == 'rejected' %}
							<tbody>
								<tr>
									<td>
										<span class="d-flex align-items-center">
											<i class="bi bi-circle-fill fs-6px text-theme me-2"></i>
											{{ request.quantity }} Units of {{ request.product.product_name }}
										</span>
									</td>
									<td><small>Request by: {{ request.store.name }}</small></td>
									<td>
										<span class="badge d-block bg-danger text-white rounded-0 pt-5px w-70px" style="min-height: 18px">REJECTED</span>
									</td>
									<td><a href="#" class="text-decoration-none text-inverse"><i class="bi bi-search"></i></a></td>
								</tr>
								{% endif %}
							{% endfor %}
							</tbody>
						</table>
					</div>
					<!-- END table -->
				</div>
				<!-- END card-body -->
				
				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-6 -->
		
		<!-- BEGIN col-6 -->
		<div class="col-xl-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small mb-3">
						<span class="flex-grow-1">DELIVERED</span>
						<a href="#" data-toggle="card-expand" class="text-inverse text-opacity-50 text-decoration-none"><i class="bi bi-fullscreen"></i></a>
					</div>
					<!-- END title -->
					<!-- BEGIN table -->
					<div class="table-responsive">
						<table class="table table-striped table-borderless mb-2px small text-nowrap">
							<tbody>
								<table class="table table-striped table-borderless mb-2px small text-nowrap">
									{% for request in restock_requests %}
										{% if request.status == 'delivered' %}
									<tbody>
										<tr>
											<td>
												<span class="d-flex align-items-center">
													<i class="bi bi-circle-fill fs-6px text-primary me-2"></i>
													{{ request.quantity }} Units of {{ request.product.product_name }}
												</span>
											</td>
											<td><small>Request by: {{ request.store.name }}</small></td>
											<td>
												<span class="badge d-block bg-primary text-white rounded-0 pt-5px w-70px" style="min-height: 18px">DELIVERED</span>
											</td>
											<td><a href="#" class="text-decoration-none text-inverse"><i class="bi bi-search"></i></a></td>
										</tr>
										{% endif %}
									{% endfor %}
									</tbody>
								</table>
								
							</tbody>
						</table>
					</div>
					<!-- END table -->
				</div>
				<!-- END card-body -->
				
				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-6 -->
		
	</div>
    
{% endblock %}


{% block outter_content %}
<script>
	$('#datatableDefault').DataTable({
	  dom: "<'row mb-3'<'col-sm-4'l><'col-sm-8 text-end'<'d-flex justify-content-end'fB>>>t<'d-flex align-items-center mt-3'<'me-auto'i><'mb-0'p>>",
	  lengthMenu: [ 10, 20, 30, 40, 50 ],
	  responsive: true,
	  buttons: [ 
		{ extend: 'print', className: 'btn btn-default' },
		{ extend: 'csv', className: 'btn btn-default' }
	  ]
	});
</script>

    <!-- BEGIN row -->
    
	<!-- BEGIN modal -->

	<!-- END modal -->
{% endblock outter_content%}